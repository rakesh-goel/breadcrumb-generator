<script>
  window.addEventListener("message", function (event) {
    if (event.data && event.data.path) {
      generateBreadcrumbsFromPath(event.data.path);
    }
  });

  function generateBreadcrumbsFromPath(pathURL) {
    try {
      const url = new URL(pathURL);
      const segments = url.pathname.split('/').filter(Boolean);
      let breadcrumbHTML = `<a href="${url.origin}">Home</a>`;
      let currentPath = url.origin;

      segments.forEach((segment, index) => {
        currentPath += `/${segment}`;
        const label = decodeURIComponent(segment.replace(/-/g, ' '));
        if (index === segments.length - 1) {
          breadcrumbHTML += ` &gt; <span>${label}</span>`;
        } else {
          breadcrumbHTML += ` &gt; <a href="${currentPath}">${label}</a>`;
        }
      });

      document.getElementById("breadcrumb").innerHTML = breadcrumbHTML;
    } catch (e) {
      document.getElementById("breadcrumb").innerText = "Breadcrumbs unavailable";
    }
  }
</script>
